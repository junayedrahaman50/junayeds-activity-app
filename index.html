<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Junayed's Daily Activity and Tasks</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìù</text></svg>">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary-color: #6a11cb;
            --secondary-color: #2575fc;
            --success-color: #4CAF50;
            --warning-color: #FFC107;
            --danger-color: #F44336;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --text-color: #333;
            --text-light: #f8f9fa;
            --card-bg: rgba(255, 255, 255, 0.9);
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --edit-color: #FF9800;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--text-color);
            min-height: 100vh;
            padding: 20px;
            background-attachment: fixed;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: var(--text-light);
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            padding: 20px 0;
        }

        h1 i {
            margin-right: 15px;
        }

        .app-container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: space-between;
        }

        .input-section,
        .view-section {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 25px;
            box-shadow: var(--shadow);
            flex: 1;
            min-width: 300px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark-color);
        }

        input[type="text"],
        input[type="date"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border 0.3s;
        }

        input[type="text"]:focus,
        input[type="date"]:focus,
        textarea:focus,
        select:focus {
            border-color: var(--secondary-color);
            outline: none;
            box-shadow: 0 0 0 2px rgba(37, 117, 252, 0.2);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        button {
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-add {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            width: 100%;
        }

        .btn-add:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .btn-view {
            background: var(--light-color);
            color: var(--dark-color);
            margin-top: 10px;
            margin-right: 10px;
        }

        .btn-view:hover {
            background: #e9ecef;
        }

        .filter-section {
            margin-bottom: 20px;
        }

        .activities-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .activity-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            box-shadow: var(--shadow);
            position: relative;
            transition: transform 0.3s;
        }

        .activity-card:hover {
            transform: translateY(-5px);
        }

        .activity-card h3 {
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .activity-card p {
            margin-bottom: 15px;
            color: #555;
        }

        .activity-card .date {
            font-size: 0.9rem;
            color: #777;
            margin-bottom: 10px;
        }

        .activity-card .type {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
        }

        .activity-card .type-activity {
            background: linear-gradient(to right, #4facfe, #00f2fe);
            color: white;
        }

        .activity-card .type-task {
            background: linear-gradient(to right, #f093fb, #f5576c);
            color: white;
        }

        .activity-card .status {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-top: 10px;
        }

        .status-not-started {
            background-color: #ffeb3b;
            color: #000;
        }

        .status-in-progress {
            background-color: #2196f3;
            color: white;
        }

        .status-completed {
            background-color: #4caf50;
            color: white;
        }

        .card-actions {
            position: absolute;
            bottom: 15px;
            right: 15px;
            display: flex;
            gap: 8px;
        }

        .action-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            color: white;
        }

        .delete-btn {
            background: var(--danger-color);
        }

        .edit-btn {
            background: var(--edit-color);
        }

        .action-btn:hover {
            transform: scale(1.1);
        }

        .no-activities {
            grid-column: 1 / -1;
            text-align: center;
            padding: 40px;
            color: #777;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-header h2 {
            color: var(--primary-color);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #777;
        }

        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }

        .btn-cancel {
            background: #ddd;
            color: #333;
        }

        .btn-save {
            background: var(--success-color);
            color: white;
        }

        @media (max-width: 768px) {
            .app-container {
                flex-direction: column;
            }

            h1 {
                font-size: 2rem;
            }

            .input-section,
            .view-section {
                width: 100%;
            }

            .activities-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h1><i class="fas fa-tasks"></i> Junayed's Daily Activity and Tasks</h1>

        <div class="app-container">
            <div class="input-section">
                <div class="date-picker">
                    <label for="activity-date">Date:</label>
                    <input type="date" id="activity-date" required>
                </div>

                <div class="input-group">
                    <label for="activity-type">Type:</label>
                    <select id="activity-type">
                        <option value="activity">Activity</option>
                        <option value="task">Task</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="activity-title">Title:</label>
                    <input type="text" id="activity-title" placeholder="Enter title" required>
                </div>

                <div class="input-group">
                    <label for="activity-description">Description:</label>
                    <textarea id="activity-description" placeholder="Enter description"></textarea>
                </div>

                <div class="input-group">
                    <label for="activity-status">Status (for tasks):</label>
                    <select id="activity-status">
                        <option value="Not Started">Not Started</option>
                        <option value="In Progress">In Progress</option>
                        <option value="Completed">Completed</option>
                    </select>
                </div>

                <button id="add-activity" class="btn-add">Add Activity/Task</button>
            </div>

            <div class="view-section">
                <div class="filter-section">
                    <label for="filter-date">View Activities/Tasks for:</label>
                    <input type="date" id="filter-date">
                    <button id="view-activities" class="btn-view">View</button>
                    <button id="view-all" class="btn-view">View All</button>
                </div>

                <div id="activities-container" class="activities-container">
                    <!-- Activities and tasks will be displayed here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Modal -->
    <div id="edit-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Activity/Task</h2>
                <button class="close-modal">&times;</button>
            </div>
            <input type="hidden" id="edit-id">
            <div class="input-group">
                <label for="edit-date">Date:</label>
                <input type="date" id="edit-date" required>
            </div>
            <div class="input-group">
                <label for="edit-type">Type:</label>
                <select id="edit-type">
                    <option value="activity">Activity</option>
                    <option value="task">Task</option>
                </select>
            </div>
            <div class="input-group">
                <label for="edit-title">Title:</label>
                <input type="text" id="edit-title" required>
            </div>
            <div class="input-group">
                <label for="edit-description">Description:</label>
                <textarea id="edit-description"></textarea>
            </div>
            <div class="input-group" id="edit-status-container">
                <label for="edit-status">Status (for tasks):</label>
                <select id="edit-status">
                    <option value="Not Started">Not Started</option>
                    <option value="In Progress">In Progress</option>
                    <option value="Completed">Completed</option>
                </select>
            </div>
            <div class="modal-actions">
                <button id="cancel-edit" class="btn-cancel">Cancel</button>
                <button id="save-edit" class="btn-save">Save Changes</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Set today's date as default
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('activity-date').value = today;
            document.getElementById('filter-date').value = today;

            // Load activities for today initially
            loadActivitiesForDate(today);

            // Event listeners
            document.getElementById('add-activity').addEventListener('click', addActivity);
            document.getElementById('view-activities').addEventListener('click', function () {
                const date = document.getElementById('filter-date').value;
                loadActivitiesForDate(date);
            });
            document.getElementById('view-all').addEventListener('click', loadAllActivities);

            // Modal event listeners
            document.querySelector('.close-modal').addEventListener('click', closeModal);
            document.getElementById('cancel-edit').addEventListener('click', closeModal);
            document.getElementById('save-edit').addEventListener('click', saveEditedActivity);

            // Listen for type change in edit modal
            document.getElementById('edit-type').addEventListener('change', function () {
                toggleStatusField(this.value);
            });
        });

        function addActivity() {
            const date = document.getElementById('activity-date').value;
            const type = document.getElementById('activity-type').value;
            const title = document.getElementById('activity-title').value.trim();
            const description = document.getElementById('activity-description').value.trim();
            const status = document.getElementById('activity-status').value;

            if (!date || !title) {
                alert('Please fill in all required fields (Date and Title)');
                return;
            }

            const activity = {
                id: Date.now().toString(),
                date,
                type,
                title,
                description,
                status: type === 'task' ? status : null,
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };

            // Save to local storage
            saveActivity(activity);

            // Clear form
            document.getElementById('activity-title').value = '';
            document.getElementById('activity-description').value = '';

            // Reload activities for the selected date
            loadActivitiesForDate(date);

            // Show success message
            alert(`${type === 'activity' ? 'Activity' : 'Task'} added successfully!`);
        }

        function saveActivity(activity) {
            let activities = JSON.parse(localStorage.getItem('activities')) || [];
            activities.push(activity);
            localStorage.setItem('activities', JSON.stringify(activities));
        }

        function loadActivitiesForDate(date) {
            const activitiesContainer = document.getElementById('activities-container');
            activitiesContainer.innerHTML = '';

            let activities = JSON.parse(localStorage.getItem('activities')) || [];
            const filteredActivities = activities.filter(activity => activity.date === date);

            if (filteredActivities.length === 0) {
                activitiesContainer.innerHTML = `
                    <div class="no-activities">
                        <i class="fas fa-calendar-times" style="font-size: 3rem; margin-bottom: 15px;"></i>
                        <h3>No activities or tasks found for ${formatDate(date)}</h3>
                        <p>Add some activities or tasks to get started!</p>
                    </div>
                `;
                return;
            }

            filteredActivities.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));

            filteredActivities.forEach(activity => {
                const activityCard = createActivityCard(activity);
                activitiesContainer.appendChild(activityCard);
            });
        }

        function loadAllActivities() {
            const activitiesContainer = document.getElementById('activities-container');
            activitiesContainer.innerHTML = '';

            let activities = JSON.parse(localStorage.getItem('activities')) || [];

            if (activities.length === 0) {
                activitiesContainer.innerHTML = `
                    <div class="no-activities">
                        <i class="fas fa-calendar-times" style="font-size: 3rem; margin-bottom: 15px;"></i>
                        <h3>No activities or tasks found</h3>
                        <p>Add some activities or tasks to get started!</p>
                    </div>
                `;
                return;
            }

            // Group activities by date
            const activitiesByDate = {};
            activities.forEach(activity => {
                if (!activitiesByDate[activity.date]) {
                    activitiesByDate[activity.date] = [];
                }
                activitiesByDate[activity.date].push(activity);
            });

            // Sort dates in descending order
            const sortedDates = Object.keys(activitiesByDate).sort((a, b) => new Date(b) - new Date(a));

            sortedDates.forEach(date => {
                const dateHeader = document.createElement('h2');
                dateHeader.textContent = formatDate(date);
                dateHeader.style.color = 'white';
                dateHeader.style.margin = '20px 0 10px';
                dateHeader.style.gridColumn = '1 / -1';
                activitiesContainer.appendChild(dateHeader);

                activitiesByDate[date].sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));

                activitiesByDate[date].forEach(activity => {
                    const activityCard = createActivityCard(activity);
                    activitiesContainer.appendChild(activityCard);
                });
            });
        }

        function createActivityCard(activity) {
            const activityCard = document.createElement('div');
            activityCard.className = 'activity-card';

            const typeClass = activity.type === 'activity' ? 'type-activity' : 'type-task';

            let statusElement = '';
            if (activity.type === 'task') {
                let statusClass = '';
                if (activity.status === 'Not Started') statusClass = 'status-not-started';
                if (activity.status === 'In Progress') statusClass = 'status-in-progress';
                if (activity.status === 'Completed') statusClass = 'status-completed';

                statusElement = `<span class="status ${statusClass}">${activity.status}</span>`;
            }

            activityCard.innerHTML = `
                <span class="type ${typeClass}">${activity.type}</span>
                <h3>${activity.title}</h3>
                <p class="date">${formatDate(activity.date)}</p>
                ${activity.description ? `<p>${activity.description}</p>` : ''}
                ${statusElement}
                <div class="card-actions">
                    <button class="action-btn edit-btn" data-id="${activity.id}"><i class="fas fa-edit"></i></button>
                    <button class="action-btn delete-btn" data-id="${activity.id}"><i class="fas fa-trash"></i></button>
                </div>
            `;

            // Add delete event listener
            activityCard.querySelector('.delete-btn').addEventListener('click', function () {
                if (confirm('Are you sure you want to delete this item?')) {
                    deleteActivity(activity.id);
                    activityCard.remove();

                    // Check if container is empty after deletion
                    const activitiesContainer = document.getElementById('activities-container');
                    if (activitiesContainer.children.length === 0) {
                        const date = document.getElementById('filter-date').value;
                        loadActivitiesForDate(date);
                    }
                }
            });

            // Add edit event listener
            activityCard.querySelector('.edit-btn').addEventListener('click', function () {
                openEditModal(activity);
            });

            return activityCard;
        }

        function deleteActivity(id) {
            let activities = JSON.parse(localStorage.getItem('activities')) || [];
            activities = activities.filter(activity => activity.id !== id);
            localStorage.setItem('activities', JSON.stringify(activities));
        }

        function openEditModal(activity) {
            const modal = document.getElementById('edit-modal');
            document.getElementById('edit-id').value = activity.id;
            document.getElementById('edit-date').value = activity.date;
            document.getElementById('edit-type').value = activity.type;
            document.getElementById('edit-title').value = activity.title;
            document.getElementById('edit-description').value = activity.description || '';

            // Set status if it's a task
            if (activity.type === 'task') {
                document.getElementById('edit-status').value = activity.status;
                document.getElementById('edit-status-container').style.display = 'block';
            } else {
                document.getElementById('edit-status-container').style.display = 'none';
            }

            modal.style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('edit-modal').style.display = 'none';
        }

        function saveEditedActivity() {
            const id = document.getElementById('edit-id').value;
            const date = document.getElementById('edit-date').value;
            const type = document.getElementById('edit-type').value;
            const title = document.getElementById('edit-title').value.trim();
            const description = document.getElementById('edit-description').value.trim();
            const status = document.getElementById('edit-status').value;

            if (!date || !title) {
                alert('Please fill in all required fields (Date and Title)');
                return;
            }

            let activities = JSON.parse(localStorage.getItem('activities')) || [];
            const index = activities.findIndex(activity => activity.id === id);

            if (index !== -1) {
                activities[index] = {
                    ...activities[index],
                    date,
                    type,
                    title,
                    description,
                    status: type === 'task' ? status : null,
                    updatedAt: new Date().toISOString()
                };

                localStorage.setItem('activities', JSON.stringify(activities));

                // Reload the view
                const currentDate = document.getElementById('filter-date').value;
                loadActivitiesForDate(currentDate);

                closeModal();
                alert('Changes saved successfully!');
            }
        }

        function toggleStatusField(type) {
            const statusContainer = document.getElementById('edit-status-container');
            statusContainer.style.display = type === 'task' ? 'block' : 'none';
        }

        function formatDate(dateString) {
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            return new Date(dateString).toLocaleDateString('en-US', options);
        }
    </script>
</body>

</html>